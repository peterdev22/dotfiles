/* 'Rounded' theme for firefox with vertical tabs

Feel free to take parts of this and use it in your
own config - the comments should make it easier to know what everything does.

Compatibility :
- Works on MacOS and Windows.
- Remove the font change (line 22) if using this on Windows.
- Untested on GNU/Linux systems (but should work).
- Made for vertical tabs.

Recommendations :
- Set flag 'sidebar.revamp.round-content-area' to TRUE for a rounded website content border

*/

/* -------------- GENERAL -------------- */
/* Change font and add thin border around website content */
* {
  font-family: 'SF Pro Display';
  --content-area-shadow: 0 0 0 1px rgba(55, 55, 55, 0.8);
}

/* Various variables; change tab & urlbar height, also tab group height and border radius */
:root {
  --tab-min-height: 28px !important;
  --urlbar-min-height: 32px !important;
  --tab-group-label-height: 20px !important;
  --tab-border-radius: calc(var(--tab-group-label-height) / 2) !important;
  --tab-group-label-padding: 8px !important;
}

/* -------------- TABS/SIDEBAR -------------- */
/* Tab corner radius */
.tab-background,
.tab-loading-burst {
  border: none !important;
  border-radius: calc(var(--tab-min-height) / 2) !important;
}

/* Tab close button border radius */
.tabbrowser-tab .close-icon:hover {
  border-radius: calc(var(--tab-min-height) / 2) !important;
}

/* New tab button mouseover */
#tabs-newtab-button {
  border-radius: calc(var(--tab-min-height) / 2) !important;
}

/* Compact and rounded tab group labels */
.tab-group-label {
  height: var(--tab-group-label-height) !important;
  line-height: var(--tab-group-label-height) !important;
}

.tab-group-label-container {
  padding: 0px !important;
  margin-top: 4px !important;
  margin-bottom: 4px !important;
}

/* Remove active tab shadow */
#tabbrowser-tabs:not([noshadowfortests]) .tab-background:is([selected], [multiselected]) {
  box-shadow: none !important;
}

.tab-background:is([selected], [multiselected]):-moz-lwtheme {
  --lwt-tabs-border-color: rgba(0, 0, 0, 0.5) !important;
  border-bottom-color: transparent !important;
}

/* Decrease spacing between vertical tabs */
#vertical-tabs.customization-target #tabbrowser-tabs tab:not([pinned]) .tab-background {
  margin-block: 0px !important;
}

/* Reduce distance between pinned and normal tabs when using vertical tabs (while sidebar is expanded) */
#tabbrowser-tabs[expanded]>#vertical-pinned-tabs-splitter {
  margin-bottom: -16px !important;
}

/* Rounded sidebar bottom buttons mouseover */
.button-background {
  border-radius: calc(var(--tab-min-height) / 2) !important;
}

/* -------------- URL BAR -------------- */
/* URL bar corner radius (unexpanded) */
.urlbar-background,
#urlbar-input-container {
  --toolbarbutton-border-radius: calc(var(--urlbar-min-height) / 2);
  padding-left: 20px;
  padding-right: 10px;
}

#urlbar-input-container {
  --urlbar-icon-border-radius: calc(var(--toolbarbutton-border-radius) - 1px);
}

/* URL bar corner radius (expanded) */
#urlbar-results {
  padding-bottom: 4px !important;
}

.urlbar-background {
  border-radius: 16px !important;
}

/* URL bar results item corner radius */
.urlbarView-row {
  border: none;
  border-radius: 12px !important;
}

/* Hide bottom left sidebar splitter (removes its function though) */
/* #sidebar-tools-and-extensions-splitter {
  visibility: hidden !important;
} */

/* -------------- BUTTON/LABEL ROUNDING -------------- */
/* Rounded protections button mouseover */
#tracking-protection-icon-container,
#identity-box:is(.chromeUI)>.identity-box-button {
  border-radius: calc(var(--urlbar-min-height) / 2) !important;
}

/* Rounded favourite button mouseover */
#star-button-box {
  border-radius: calc(var(--urlbar-min-height) / 2) !important;
}

/* Rounded site information button mouseover */
#identity-icon-box {
  border-radius: calc(var(--urlbar-min-height) / 2) !important;
}

/* Rounded site permissions button mouseover */
#identity-permission-box {
  border-radius: calc(var(--urlbar-min-height) / 2) !important;
}

/* Rounded page action buttons mouseover (eg. Reader mode button) */
.urlbar-page-action {
  border-radius: calc(var(--urlbar-min-height) / 2) !important;
}

/* Rounded search engine switcher related buttons */
#urlbar-searchmode-switcher {
  border-radius: calc(var(--urlbar-min-height) / 2) !important;
}

.urlbar-revert-button {
  border-radius: calc(var(--urlbar-min-height) / 2) !important;
}

/* Rounded zoom level indicator */
#urlbar-zoom-button {
  border-radius: calc(var(--urlbar-min-height) / 2) !important;
}

/* Rounded 'switch to tab' label */
#urlbar-label-box {
  border-radius: calc(var(--urlbar-min-height) / 2) !important;
}

/* Rounded URL bar action result label (eg. Switch to tab) */
.urlbarView-action {
  border-radius: 32px !important;
}

/* Rounded URL bar 'go' button */
#urlbar-go-button {
  border-radius: calc(var(--urlbar-min-height) / 2) !important;
}

/* Rounded extensions and various toolbar buttons mouseover */
.toolbarbutton-badge-stack {
  border-radius: calc(var(--urlbar-min-height) / 2) !important;
}

/* -------------- BUTTON REMOVAL -------------- */
/* These are not necessary; feel free to comment them out. */

/* Remove back button */
#back-button {
  display: none !important;
}

/* Remove forward button */
#forward-button {
  display: none !important;
}

/* Remove extensions folder button */
#unified-extensions-button,
#unified-extensions-button>.toolbarbutton-icon {
  width: 0px !important;
  padding: 0px !important;
}

/* -------------- TOOLTIP -------------- */
/* Rounded and spaced tooltip */
#statuspanel {
  margin: 12px !important;
}

#statuspanel-label {
  border: none !important;
  border-radius: 12px !important;

  padding-top: 4px !important;
  padding-bottom: 4px !important;
  padding-left: 8px !important;
  padding-right: 8px !important;

  background-color: black !important;
  outline: 1px solid !important;
  outline-color: rgba(55, 55, 55, 1) !important;
}